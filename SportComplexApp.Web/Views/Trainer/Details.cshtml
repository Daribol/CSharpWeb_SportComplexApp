@model SportComplexApp.Web.ViewModels.Trainer.TrainerDetailsViewModel

@{
    ViewData["Title"] = "Trainer Details";
    var hasImage = !string.IsNullOrWhiteSpace(Model.ImageUrl);
}
<link rel="stylesheet" href="~/css/neon-theme.css" asp-append-version="true" />
<div class="container mt-4">

    <div class="trainer-hero position-relative rounded-4 overflow-hidden shadow-lg mb-4"
         style="background-image:
                @(hasImage
                    ? $"linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.6)), url('{Model.ImageUrl}')"
                    : "linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.6)), radial-gradient(80% 60% at 20% 10%, rgba(0,255,200,.15), transparent), linear-gradient(135deg,#1f1f1f,#2a2a2a)");">
        <div class="ratio ratio-21x9"></div>

        <div class="trainer-avatar position-absolute bottom-0 start-0 translate-middle-y ms-4 mb-3">
            @if (hasImage)
            {
                <img src="@Model.ImageUrl" alt="@Model.Name @Model.LastName"
                     class="rounded-circle border border-3 border-dark-subtle shadow"
                     style="width:110px; height:110px; object-fit:cover;" />
            }
            else
            {
                <div class="rounded-circle d-flex align-items-center justify-content-center border border-3 border-dark-subtle shadow"
                     style="width:110px; height:110px; background: linear-gradient(135deg,#00ffc8,#b4ffe9); color:#000;">
                    <i class="bi bi-person-bounding-box" style="font-size:2rem;"></i>
                </div>
            }
        </div>

        <div class="position-absolute bottom-0 start-0 ms-4 mb-3" style="padding-left: 130px;">
            <h1 class="h3 mb-1 text-white fw-semibold">@Model.Name @Model.LastName</h1>
            <div>
                @if (Model.Sports != null && Model.Sports.Any())
                {
                    foreach (var sport in Model.Sports)
                    {
                        <span class="badge badge-sport me-1 mb-1">@sport</span>
                    }
                }
                else
                {
                    <span class="badge badge-soft">No sports assigned</span>
                }
            </div>
        </div>
    </div>

    <div class="card card-dark border-0 shadow-lg rounded-4">
        <div class="card-body p-4 p-md-5">
            <h2 class="h5 mb-3" style="color:#00ffc8;">About</h2>

            @if (!string.IsNullOrWhiteSpace(Model.Bio))
            {
                <p class="mb-0">@Model.Bio</p>
            }
            else
            {
                <p class="text-muted mb-0">This trainer has not provided a bio yet.</p>
            }
        </div>

        <div class="card-footer bg-transparent border-0 d-flex justify-content-between align-items-center px-4 px-md-5 pb-4">
            <a asp-action="All"
               asp-route-sportId="@ViewBag.SportId"
               class="btn btn-outline-neon btn-sm">
                <i class="bi bi-arrow-left-circle me-1"></i> Back to Trainers
            </a>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <style>
        .trainer-hero {
            background-size: cover;
            background-position: center;
        }
    </style>
}
